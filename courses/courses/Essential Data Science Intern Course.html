<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Essential Data Science Intern Course ‚Äî Internadda</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Global variables and resets */
        :root {
            --primary: #2b6cb0; 
            --secondary: #9f7aea;
            --accent: #38a169; 
            --dark: #2d3748; 
            --light: #f7fafc; 
            --gray: #718096; 
            --success: #48bb78; 
            --warning: #ed8936; 
            --white: #ffffff;
            --border: 1px solid #e2e8f0;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
            --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Animation */
        .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
        .main-content-container { max-width: 800px; margin: 0 auto; }
        .hidden { display: none !important; }

        header { background-color: var(--white); box-shadow: var(--shadow); position: sticky; top: 0; z-index: 100; }
        .header-container { display: flex; align-items: center; justify-content: space-between; padding: 16px 0; }
        .logo { display: flex; align-items: center; text-decoration: none; gap: 10px; transition: var(--transition); }
        .logo-img { height: 40px; width: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
        .logo-text { background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-family: 'Poppins', serif; font-weight: 700; font-size: 2rem; letter-spacing: -0.03em; }

        .user-profile { display: flex; align-items: center; gap: 10px; cursor: pointer; position: relative; padding: 6px 10px; border-radius: 12px; transition: var(--transition); }
        .user-profile img { width: 36px; height: 36px; border-radius: 50%; border: 2px solid var(--primary); transition: var(--transition); }
        .user-profile span { font-weight: 500; font-size: 15px; }

        .btn { padding: 10px 18px; border-radius: 8px; font-weight: 600; font-size: 15px; cursor: pointer; transition: var(--transition); border: none; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; position: relative; overflow: hidden; }
        .btn-primary { background: var(--gradient); color: var(--white); }

        .course-section { padding: 60px 0; }
        .course-title-main { font-size: 2.8rem; font-weight: 800; text-align: center; margin-bottom: 20px; background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .progress-container { display: flex; align-items: center; gap: 20px; margin: 40px auto; }
        .progress-bar-bg { flex-grow: 1; height: 12px; background-color: #e2e8f0; border-radius: 999px; overflow: hidden; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); transition: width 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .progress-text { font-weight: 600; color: var(--dark); min-width: 120px; text-align: right; }

        .course-content-wrapper { margin-top: 50px; }
        .course-page { background: var(--white); padding: 40px; border-radius: 16px; box-shadow: var(--shadow); transition: opacity 0.5s ease-in-out; position: relative; }
        .course-page.hidden { display: none !important; }
        .course-page-title { font-size: 2rem; font-weight: 700; margin-bottom: 30px; border-bottom: 2px solid #e2e8f0; padding-bottom: 15px; }
        .course-page-body p, .course-page-body li { font-size: 1.1rem; line-height: 1.8; margin-bottom: 20px; }
        .course-page-body h3 { font-size: 1.5rem; font-weight: 700; margin-top: 30px; margin-bottom: 15px; }
        .quiz-options .option.correct { background-color: #d1f7e0; border-color: var(--success); box-shadow: 0 0 0 3px var(--success); }
        .quiz-options .option.incorrect { background-color: #fcebeb; border-color: #f56565; box-shadow: 0 0 0 3px #f56565; }
        #finishButton { width: 100%; text-align: center; }
        .course-navigation { margin-top: 40px; display: flex; justify-content: space-between; gap: 20px; }
        .course-navigation .btn { flex-grow: 1; }
        
        /* Login Gate Modal (To enforce login for content) */
        .login-gate { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(255, 255, 255, 0.95); 
            z-index: 10; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            padding: 40px; 
            text-align: center;
            border-radius: 16px;
        }
        .login-gate h2 { color: var(--primary); font-size: 2.2rem; margin-bottom: 20px; }
        .login-gate p { font-size: 1.2rem; color: var(--gray); margin-bottom: 30px; }
        .login-gate .btn { padding: 15px 30px; }
        
         /* Video and Quiz Styles retained from original file */
        .video-wrapper {
            margin: 30px 0;
            position: relative;
            cursor: pointer;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }
        .video-wrapper:hover {
            transform: scale(1.02);
        }
        .video-wrapper img {
            width: 100%;
            display: block;
            border-radius: 16px;
            aspect-ratio: 16/9;
            object-fit: cover;
        }
         .video-embed-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
        }
        .video-embed-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 16px;
        }
        .quiz-section {
            border-top: 2px solid #e2e8f0;
            padding-top: 30px;
            margin-top: 40px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .quiz-question {
            font-size: 1.3rem;
            font-weight: 600;
        }
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .quiz-options .option {
            background-color: #f7fafc;
            padding: 18px 24px;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s;
            font-weight: 500;
        }
        .quiz-feedback {
            padding: 15px;
            border-radius: 12px;
            font-weight: 600;
            animation: fadeIn 0.5s;
        }
        /* Mobile adjustment for course content */
        @media (max-width: 600px) {
            .course-page {
                padding: 20px;
            }
            .course-navigation {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="container header-container">
            <a href="../../index.html" class="logo">
                <img src="../../images/logo.jpg" alt="InternAdda Logo" class="logo-img">
                <span class="logo-text">InternAdda</span>
            </a>
            <nav class="nav-menu">
                <a href="../../index.html" class="nav-link">Home</a>
                <a href="../course.html" class="nav-link">Courses</a>
                <a href="../../intern/internship.html" class="nav-link">Internships</a>
                <a href="#" class="nav-link">Jobs</a>
                <a href="../../about.html" class="nav-link">About</a>
            </nav>
            <div class="header-actions">
                <div id="authButtons">
                    <a href="#" class="btn btn-outline" id="loginBtnHeader">Log in</a>
                    <a href="#" class="btn btn-primary" id="signupBtnHeader">Sign up</a>
                </div>
                <div class="user-profile hidden" id="userProfile">
                    <img src="../../images/no_image.png" alt="User Avatar" class="user-avatar-header" id="userAvatarHeader">
                    <span id="userNameHeader">Intern</span>
                </div>
                <button class="hamburger-menu" id="hamburgerMenu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <section class="course-section">
            <div class="main-content-container">
                <h1 class="course-title-main fade-in">Essential Data Science Intern Course</h1>
                
                <div class="login-gate" id="contentGate">
                    <i class="fas fa-lock" style="font-size: 4rem; color: var(--primary); margin-bottom: 30px;"></i>
                    <h2>Login Required to View Course</h2>
                    <p>Please sign in to access the full course material and track your learning progress.</p>
                    <button class="btn btn-primary" onclick="document.getElementById('loginBtnHeader').click()">Sign In Now</button>
                </div>

                <div id="courseContent" class="hidden">
                    <div id="video-container" class="fade-in">
                        <div class="video-wrapper" id="video-thumbnail">
                            <img src="https://img.youtube.com/vi/x-G-dSSUNQE/maxresdefault.jpg" alt="Course Video Thumbnail">
                            <div class="play-button"><i class="fas fa-play-circle"></i></div>
                        </div>
                    </div>

                    <div class="progress-container fade-in">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" id="progressBar"></div>
                        </div>
                        <span class="progress-text" id="progressText">0% Complete</span>
                    </div>

                    <div class="course-content-wrapper">
                        
                        <div class="course-page active" data-page="1">
                            <div class="fade-in">
                                <h2 class="course-page-title">Page 1: Introduction to Data Science</h2>
                                <div class="course-page-body">
                                    <p><b>üéØ Your Goal for This Page:</b> Master the foundational concepts of data science‚Äîwhat it is, where it's used, and the professional workflow that separates a hobbyist from a pro.</p>

                                    <h3>1Ô∏è‚É£ What Is Data Science?</h3>
                                    <p>At its core, data science is the discipline of <b>extracting valuable knowledge and actionable insights from data.</b> It's a blend of several fields, and mastering this synthesis is where the true value lies.</p>
                                    <p>Think of it as a powerful combination of: <br>
                                    <b>üìä Statistics & Math:</b> The language for reasoning about uncertainty and patterns.<br>
                                    <b>üíª Programming:</b> The tool to automate data collection, analysis, and model building.<br>
                                    <b>üß† Domain Knowledge:</b> The context that helps you ask the right questions and interpret results accurately.<br>
                                    <b>üó£Ô∏è Storytelling:</b> The skill to communicate complex findings to decision-makers in a clear, compelling way.</p>
                                                                    </div>
                                <div class="quiz-section">
                                    <h3 class="quiz-question">‚ùì Question from Page 1</h3>
                                    <p>Which statement best defines Data Science?</p>
                                    <div class="quiz-options">
                                        <div class="option" data-answer="1">A. Writing complex algorithms in Python.</div>
                                        <div class="option" data-answer="2">B. The blend of statistics, programming, and domain knowledge to extract insight from data.</div>
                                        <div class="option" data-answer="3">C. Only collecting and cleaning large datasets.</div>
                                    </div>
                                    <div class="quiz-feedback hidden" id="feedback1"></div>
                                    <div class="course-navigation">
                                        <button class="btn btn-outline" id="prevButton1" disabled>Previous</button>
                                        <button class="btn btn-primary hidden" id="nextButton1">Next Lesson <i class="fas fa-chevron-right"></i></button>
                                    </div>
                                </div>
                            </div>

                            <div class="course-page hidden" data-page="2">
                               <div class="fade-in">
                                    <h2 class="course-page-title">Page 2: Python & Essential Libraries</h2>
                                    <div class="course-page-body">
                                        <p><b>üéØ Your Goal for This Page:</b> Get comfortable with the core programming language and essential libraries every data-science intern uses daily.</p>
                                        <h3>2Ô∏è‚É£ Essential Tools for Your Toolkit</h3>
                                        <p>Here are the <b>Big 3</b> libraries you'll live in:</p>
                                        <table>
                                            <thead>
                                                <tr><th>Library</th><th>Why It's Essential</th><th>Quick Demo</th></tr>
                                            </thead>
                                            <tbody>
                                                <tr><td><b>NumPy</b></td><td>For high-speed numerical computations on arrays.</td><td><code>import numpy as np; np.mean([1,2,3])</code></td></tr>
                                                <tr><td><b>Pandas</b></td><td>Your go-to for data manipulation, analysis, and cleaning.</td><td><code>df['price'].mean()</code></td></tr>
                                                <tr><td><b>Matplotlib & Seaborn</b></td><td>For powerful, publication-quality data visualization.</td><td><code>sns.histplot(df['age'])</code></td></tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="quiz-section">
                                        <h3 class="quiz-question">‚ùì Question from Page 2</h3>
                                        <p>The **Pandas** library is primarily used for:</p>
                                        <div class="quiz-options">
                                            <div class="option" data-answer="1">A. Complex mathematical modeling.</div>
                                            <div class="option" data-answer="2">B. Data manipulation and analysis using DataFrames.</div>
                                            <div class="option" data-answer="3">C. Creating machine learning models.</div>
                                        </div>
                                        <div class="quiz-feedback hidden" id="feedback2"></div>
                                        <div class="course-navigation">
                                            <button class="btn btn-outline" id="prevButton2">Previous Lesson</button>
                                            <button class="btn btn-primary hidden" id="nextButton2">Next Lesson <i class="fas fa-chevron-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="course-page hidden" data-page="3">
                                <div class="fade-in">
                                    <h2 class="course-page-title">Page 3: Statistics & Probability Essentials</h2>
                                    <div class="course-page-body">
                                        <h3>4Ô∏è‚É£ Hypothesis Testing: Proving Your Point</h3>
                                        <p>This is a formal way to test a claim. You start with a <b>Null Hypothesis (H‚ÇÄ)</b> ("there is no difference") and try to find evidence against it. Your <b>p-value</b> is the "surprise meter." A low p-value (<0.05) means your result is very surprising if the null hypothesis were true, so you reject the null and conclude there is a real effect.</p>
                                    </div>
                                    <div class="quiz-section">
                                        <h3 class="quiz-question">‚ùì Question from Page 3</h3>
                                        <p>A low p-value (e.g., <0.05) in hypothesis testing indicates:</p>
                                        <div class="quiz-options">
                                            <div class="option" data-answer="1">A. Your conclusion is false.</div>
                                            <div class="option" data-answer="2">B. There is strong evidence to reject the Null Hypothesis.</div>
                                            <div class="option" data-answer="3">C. That the sample size was too small.</div>
                                        </div>
                                        <div class="quiz-feedback hidden" id="feedback3"></div>
                                        <div class="course-navigation">
                                            <button class="btn btn-outline" id="prevButton3">Previous Lesson</button>
                                            <button class="btn btn-primary hidden" id="nextButton3">Next Lesson <i class="fas fa-chevron-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="course-page hidden" data-page="4">
                                <div class="fade-in">
                                    <h2 class="course-page-title">Page 4: Data Wrangling & Visualization</h2>
                                    <div class="course-page-body">
                                        <p><b>üéØ Your Goal for This Page:</b> Learn how to clean messy, real-world data and transform it into compelling visuals that tell a story.</p>
                                        <h3>1Ô∏è‚É£ The 80% Rule: Data Wrangling is Everything</h3>
                                        <p>In the real world, data is never perfect. You'll spend <b>70-80% of your time</b> on a project just cleaning and preparing the data. Get good at this, and you will be indispensable. Key tasks include:</p>
                                        <table>
                                            <thead>
                                                <tr><th>Task</th><th>Why It Matters</th><th>Quick Pandas Move</th></tr>
                                            </thead>
                                            <tbody>
                                                <tr><td><b>Handle Missing Values</b></td><td>Prevents errors and skewed results.</td><td><code>df.dropna()</code> or <code>df.fillna(df.median())</code></td></tr>
                                                <tr><td><b>Fix Data Types</b></td><td>Ensures columns are in the correct format for analysis (e.g., text to numbers).</td><td><code>df['price'].astype(float)</code></td></tr>
                                                <tr><td><b>Remove Duplicates</b></td><td>Avoids double-counting and ensures accurate statistics.</td><td><code>df.drop_duplicates()</code></td></tr>
                                            </tbody>
                                        </table>
                                        <h3>2Ô∏è‚É£ The Art of Data Storytelling</h3>
                                        <p>Visualization is how you turn numbers into narratives that decision-makers can act on.</p>
                                    </div>
                                    <div class="quiz-section">
                                        <h3 class="quiz-question">‚ùì Question from Page 4</h3>
                                        <p>Which Pandas method is used to remove duplicate rows from a DataFrame?</p>
                                        <div class="quiz-options">
                                            <div class="option" data-answer="1">A. `df.remove_dups()`</div>
                                            <div class="option" data-answer="2">B. `df.drop_duplicates()`</div>
                                            <div class="option" data-answer="3">C. `df.unique()`</div>
                                        </div>
                                        <div class="quiz-feedback hidden" id="feedback4"></div>
                                        <div class="course-navigation">
                                            <button class="btn btn-outline" id="prevButton4">Previous Lesson</button>
                                            <button class="btn btn-primary hidden" id="nextButton4">Next Lesson <i class="fas fa-chevron-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="course-page hidden" data-page="5">
                                <div class="fade-in">
                                    <h2 class="course-page-title">Page 5: Machine Learning & The Intern Mindset</h2>
                                    <div class="course-page-body">
                                        <h3>2Ô∏è‚É£ Overfitting: The Most Common Mistake</h3>
                                        <p>A critical concept to understand is <b>overfitting.</b> This happens when your model learns the training data <i>too well</i>, including the noise and random fluctuations, and performs poorly on new, unseen data.</p>
                                    </div>
                                    <div class="quiz-section">
                                        <h3 class="quiz-question">‚ùì Final Question from Page 5</h3>
                                        <p>A model that performs well on training data but poorly on test data is suffering from:</p>
                                        <div class="quiz-options">
                                            <div class="option" data-answer="1">A. Underfitting (High Bias)</div>
                                            <div class="option" data-answer="2">B. Overfitting (High Variance)</div>
                                            <div class="option" data-answer="3">C. Data Leakage (Unrelated to model complexity)</div>
                                        </div>
                                        <div class="quiz-feedback hidden" id="feedback5"></div>
                                        <div class="course-navigation">
                                            <button class="btn btn-outline" id="prevButton5">Previous Lesson</button>
                                            <a href="javascript:void(0);" class="btn btn-primary hidden" id="finishButton">Get Certificate of Completion <i class="fas fa-award"></i></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer>
            </footer>
        
        <div id="authModal" class="modal">
            <div class="modal-content">
                <span class="close-btn" id="closeModal">&times;</span>

                <div id="loginSection" class="auth-section">
                    <div class="auth-notification">
                        <i class="fas fa-lock"></i> <strong>Log in Required:</strong> Log in to take courses, track progress, and apply for internships.
                    </div>
                    <h2 class="auth-title">Welcome Back</h2>
                    <div class="loading" id="loginLoading">
                        <div class="spinner"></div>
                        <span>Signing in...</span>
                    </div>
                    <div id="loginError" class="error"></div>

                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email" required>
                    </div>

                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                    </div>

                    <button class="btn btn-primary" id="emailLoginBtn">Sign In</button>
                    <div class="separator"><span>OR</span></div>
                    <button class="btn btn-google" id="googleLoginBtn"><i class="fab fa-google"></i> Continue with Google</button>

                    <div class="toggle-auth">
                        <span>Don't have an account?</span> <a href="#" id="showSignup">Sign up</a>
                    </div>
                </div>

                <div id="signupSection" class="auth-section">
                    <h2 class="auth-title">Create Account</h2>
                    <div class="loading" id="signupLoading">
                        <div class="spinner"></div>
                        <span>Creating account...</span>
                    </div>
                    <div id="signupError" class="error"></div>

                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" placeholder="Enter your email" required>
                    </div>

                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" placeholder="Create a password (6+ characters)" required>
                    </div>

                    <button class="btn btn-primary" id="emailSignupBtn">Create Account</button>
                    <div class="separator"><span>OR</span></div>
                    <button class="btn btn-google" id="googleSignupBtn"><i class="fab fa-google"></i> Continue with Google</button>

                    <div class="toggle-auth">
                        <span>Already have an account?</span> <a href="#" id="showLogin">Sign in</a>
                    </div>
                </div>

                <div id="dashboardSection" class="auth-section">
                     <div class="dashboard-content">
                        <div class="profile-tabs">
                             <button class="tab-btn active" data-tab="profile">Profile</button>
                             <button class="tab-btn" data-tab="courses">Courses</button>
                             <button class="tab-btn" data-tab="internships">Internships</button>
                        </div>

                        <div id="profileTabContent" class="tab-content">
                             <div id="profileDisplaySection">
                                 <div class="user-info-profile">
                                     <div class="profile-avatar-display">
                                         <img id="userAvatarDashboard" class="user-avatar" src="../../images/no_image.png" alt="User Avatar">
                                     </div>
                                     <div class="user-profile-details">
                                         <h2 id="userNameDashboard"></h2>
                                         <p id="userEmailDashboard"></p>
                                     </div>
                                 </div>
                                 <div class="profile-details">
                                     <h3 class="section-title-small">Profile Information</h3>
                                     <div class="profile-info-item">
                                         <strong>Gender:</strong> <span id="profileGenderDisplay">Not specified</span>
                                     </div>
                                     <div class="profile-info-item">
                                         <strong>Interested Domain:</strong> <span id="profileDomainDisplay">Not specified</span>
                                     </div>
                                 </div>
                                 <button class="btn btn-outline" id="editProfileBtn">Edit Profile</button>
                             </div>

                             <div id="profileEditSection" class="hidden">
                                 <div class="profile-avatar-display">
                                     <img id="userAvatarPreview" class="user-avatar" src="../../images/no_image.png" alt="User Avatar Preview">
                                     <label for="profileImageInput" class="file-upload-label">
                                         <i class="fas fa-upload"></i> Upload Image
                                     </label>
                                     <input type="file" id="profileImageInput" accept="image/*">
                                 </div>
                                 <div class="form-group">
                                     <label for="profileName">Full Name</label>
                                     <input type="text" id="profileName" placeholder="Enter your full name">
                                 </div>
                                 <div class="form-group">
                                     <label for="profileGender">Gender</label>
                                     <select id="profileGender">
                                         <option value="">Select Gender</option>
                                         <option value="Male">Male</option>
                                         <option value="Female">Female</option>
                                         <option value="Other">Other</option>
                                     </select>
                                 </div>
                                 <div class="form-group">
                                     <label for="interestedDomain">Interested Domain</label>
                                     <select id="interestedDomain">
                                         <option value="">Select Domain</option>
                                         <option value="Web Development">Web Development</option>
                                         <option value="Data Science & AI">Data Science & AI</option>
                                         <option value="Digital Marketing">Digital Marketing</option>
                                         <option value="UI/UX Design">UI/UX Design</option>
                                     </select>
                                 </div>
                                 <button class="btn btn-primary" id="saveProfileBtn">Save Profile</button>
                             </div>
                        </div>

                        <div id="coursesTabContent" class="tab-content hidden">
                            <h3 class="section-title-small">üìö Enrolled Courses & Certificates</h3>
                            <p style="color: var(--gray); margin-bottom: 20px;">Track your progress and access completion certificates here.</p>
                            <div id="coursesListContainer" class="user-data-list">
                                <p style="text-align: center; padding: 20px;">Please log in to view your courses.</p>
                            </div>
                        </div>

                        <div id="internshipsTabContent" class="tab-content hidden">
                            <h3 class="section-title-small">üíº Internship Application History</h3>
                            <p style="color: var(--gray); margin-bottom: 20px;">View your exam results and application status for different domains.</p>
                            <div id="internshipsListContainer" class="user-data-list">
                                <p style="text-align: center; padding: 20px;">Please log in to view your internship history.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
        <script src="../../script.js"></script>
        
        <script>
            // Course Specific Details
            const COURSE_TITLE = "Essential Data Science Intern Course";
            const TOTAL_PAGES = 5;
            const VIDEO_ID = "x-G-dSSUNQE"; // Example ID for a Data Science Intro video

            document.addEventListener('DOMContentLoaded', async () => {
                const coursePages = document.querySelectorAll('.course-page');
                const progressFill = document.getElementById('progressBar');
                const progressText = document.getElementById('progressText');
                const finishButton = document.getElementById('finishButton');
                const videoContainer = document.getElementById('video-container');
                const contentGate = document.getElementById('contentGate');
                const courseContent = document.getElementById('courseContent');
                
                const quizData = {
                    1: { correct: 2, feedback: "‚úÖ Correct! Data Science requires the blend of all three core skills." },
                    2: { correct: 2, feedback: "‚úÖ Excellent! Pandas DataFrames are the essential structure for data analysis in Python." },
                    3: { correct: 2, feedback: "‚úÖ Exactly! A low p-value suggests the observed result is unlikely due to chance." },
                    4: { correct: 2, feedback: "‚úÖ Correct! `df.drop_duplicates()` is the Pandas method for removing repeated rows." },
                    5: { correct: 2, feedback: "‚úÖ Spot on! Overfitting means the model is too complex and memorizes the training noise." }
                };
                
                let currentPage = 1;
                let isAuthReady = false;

                // --- 1. AUTHENTICATION CHECK AND GATE CONTROL (FIXED) ---
                firebase.auth().onAuthStateChanged(async user => {
                    isAuthReady = true;
                    if (user) {
                        contentGate.classList.add('hidden');
                        courseContent.classList.remove('hidden');
                        
                        // Load saved progress and jump to last page
                        const savedProgress = await window.loadProgress('course', COURSE_TITLE);
                        if (savedProgress && savedProgress.lastPage) {
                            currentPage = savedProgress.lastPage;
                        } else {
                            // If user is logged in but no progress saved, start at page 1 and save state.
                            currentPage = 1;
                            await window.saveProgress('course', COURSE_TITLE, { 
                                progress: 0, 
                                lastPage: 1,
                                completed: false 
                            });
                        }
                        
                        updateUI();
                        showPage(currentPage);

                    } else {
                        contentGate.classList.remove('hidden');
                        courseContent.classList.add('hidden');
                        currentPage = 1; // Reset state visually if logged out
                        updateProgress(1);
                    }
                });

                // --- 2. CORE UI & PROGRESS FUNCTIONS ---

                const updateProgress = (pageNumber) => {
                    const progressPercentage = Math.min(100, Math.floor(((pageNumber - 1) / TOTAL_PAGES) * 100));
                    progressFill.style.width = `${progressPercentage}%`;
                    progressText.textContent = `${progressPercentage}% Complete`;
                    
                    // Save progress to storage if authenticated
                    if (firebase.auth().currentUser && window.saveProgress) {
                        window.saveProgress('course', COURSE_TITLE, { 
                            progress: progressPercentage, 
                            lastPage: pageNumber,
                            completed: progressPercentage === 100 ? true : false
                        });
                    }
                };

                const loadVideoForPage = () => {
                    // This logic remains the same, ensuring video loading specific to the course.
                    if (videoContainer) {
                        videoContainer.innerHTML = `
                            <div class="video-wrapper" id="video-thumbnail">
                                <img src="https://img.youtube.com/vi/${VIDEO_ID}/maxresdefault.jpg" alt="Course Video Thumbnail">
                                <div class="play-button"><i class="fas fa-play-circle"></i></div>
                            </div>
                        `;
                        const currentVideoThumbnail = videoContainer.querySelector('#video-thumbnail');
                        if (currentVideoThumbnail) {
                            currentVideoThumbnail.addEventListener('click', () => {
                                const iframeContainer = document.createElement('div');
                                iframeContainer.classList.add('video-embed-container');
                                const iframe = document.createElement('iframe');
                                iframe.setAttribute('src', `https://www.youtube.com/embed/${VIDEO_ID}?autoplay=1&rel=0`);
                                iframe.setAttribute('title', 'YouTube video player');
                                iframe.setAttribute('frameborder', '0');
                                iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share');
                                iframe.setAttribute('allowfullscreen', '');
                                iframeContainer.appendChild(iframe);
                                videoContainer.innerHTML = ''; 
                                videoContainer.appendChild(iframeContainer);
                            });
                        }
                    }
                };

                const showPage = (pageNumber) => {
                    coursePages.forEach(page => page.classList.add('hidden'));
                    let newPage = document.querySelector(`[data-page="${pageNumber}"]`);
                    
                    // Ensure current page is valid, fall back to page 1 if not
                    if (!newPage) {
                        pageNumber = 1;
                        newPage = document.querySelector(`[data-page="${pageNumber}"]`);
                        if (newPage) currentPage = 1; // Update global state only if fallback succeeds
                    }
                    
                    if (newPage) {
                        newPage.classList.remove('hidden');
                        const newContent = newPage.querySelector('.fade-in');
                        newContent.classList.remove('visible');
                        setTimeout(() => newContent.classList.add('visible'), 10);
                        
                        // Update UI on page change
                        updateProgress(pageNumber); 
                        loadVideoForPage();
                        
                        // Scroll to top of content
                        document.querySelector('.course-section').scrollIntoView({ behavior: 'smooth' });
                    }
                };
                
                const updateUI = () => {
                    // Link buttons to navigation
                    coursePages.forEach((page, index) => {
                        const pageNumber = index + 1;
                        const prevButton = page.querySelector(`#prevButton${pageNumber}`);
                        
                        if (prevButton) {
                            prevButton.onclick = () => {
                                currentPage = Math.max(1, currentPage - 1);
                                showPage(currentPage);
                            };
                            prevButton.disabled = (pageNumber === 1);
                        }
                        
                        // Next button logic is primarily handled in handleQuiz
                    });
                }
                
                // --- 3. QUIZ HANDLER AND NAVIGATION LOGIC ---

                const handleQuiz = (pageNumber) => {
                    const page = document.querySelector(`[data-page="${pageNumber}"]`);
                    const options = page.querySelectorAll('.option');
                    const feedbackDiv = page.querySelector('.quiz-feedback');
                    const nextButton = page.querySelector(`#nextButton${pageNumber}`);
                    
                    options.forEach(option => {
                        option.addEventListener('click', () => {
                            const selected = parseInt(option.dataset.answer);
                            const isCorrect = selected === quizData[pageNumber].correct;

                            options.forEach(opt => opt.style.pointerEvents = 'none');
                            option.classList.remove('incorrect');
                            option.classList.remove('correct');

                            if (isCorrect) {
                                option.classList.add('correct');
                                feedbackDiv.textContent = quizData[pageNumber].feedback;
                                feedbackDiv.style.color = 'var(--success)';
                                
                                if (nextButton) {
                                    nextButton.classList.remove('hidden');
                                } else if (finishButton) {
                                    finishButton.classList.remove('hidden');
                                    updateProgress(TOTAL_PAGES + 1); // Mark 100% complete
                                }
                            } else {
                                option.classList.add('incorrect');
                                feedbackDiv.textContent = "‚ùå Incorrect. Please review the content on this page and try again. You can reattempt in 2 seconds.";
                                feedbackDiv.style.color = 'var(--warning)';
                                if (nextButton) {
                                    nextButton.classList.add('hidden');
                                }

                                setTimeout(() => {
                                    options.forEach(opt => {
                                        opt.classList.remove('incorrect');
                                        opt.style.pointerEvents = 'auto';
                                    });
                                    feedbackDiv.classList.add('hidden');
                                }, 2000);
                            }
                            feedbackDiv.classList.remove('hidden');
                        });
                    });
                };

                for (let i = 1; i <= TOTAL_PAGES; i++) {
                    handleQuiz(i);
                }

                // Handle Certificate Generation (Completion)
                if (finishButton) {
                    finishButton.addEventListener('click', () => {
                         const user = firebase.auth().currentUser;
                         if (!user) {
                             alert("Login required to generate certificate.");
                             return;
                         }
                        
                        // FIX: Automatically fetch name from logged-in user
                        const userName = user.displayName || 'Learner'; 
                        
                        const courseNameEncoded = encodeURIComponent(COURSE_TITLE);
                        const nameEncoded = encodeURIComponent(userName);
                        
                        // Mark course as fully completed in Firestore/storage
                        window.saveProgress('course', COURSE_TITLE, { 
                            progress: 100, 
                            lastPage: TOTAL_PAGES + 1, 
                            completed: true 
                        });
                        
                        window.location.href = `certificate.html?name=${nameEncoded}&course=${courseNameEncoded}`;
                    });
                }
                
                // Initial check and load on page load if user is already authenticated
                if (!firebase.auth().currentUser) {
                    updateProgress(1); // Set 0% progress when logged out
                }
                
                // Update navigation buttons for mobile
                document.querySelectorAll('.btn-primary[id^="nextButton"]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        btn.classList.add('hidden');
                        setTimeout(() => btn.classList.remove('hidden'), 500);
                    });
                });
            });
        </script>
